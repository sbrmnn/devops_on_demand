<div class="card">
  <div class="card-body">
    <div class="container p-0">
      <div class="row">
        <div class="col-12">
          <div>
            <%= form_with(model: [user, job], remote: true) do |form| %>
              <div class="basic-info-nested-fields mb-2">
                <div class="form-row">
                  <%= form.hidden_field :freelancer_id, value: freelancer_id %>
                </div>
                <div class="form-row">
                  <div class="form-group col-12">
                    <%= form.label :description %>
                    <%= form.text_area :description, class: "form-control  whitesmoke-border" %>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-12">
                    <%= form.label :hours, "Job Duration (hrs)" %>
                    <%= form.number_field :hours, class: "form-control  whitesmoke-border" %>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-12">
                    <%= form.label :from %>
                    <%= form.text_field :from, class: 'form-control', "data-provide":'datepicker', id: nil %>
                  </div>
                  <div class="form-group col-12">
                    <%= form.label :to %>
                    <%= form.text_field :to, class: 'form-control', "data-provide":'datepicker', id: nil %>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-12">
                    <%= form.label :credit_card %>
                    <%= form.text_field :credit_card, class: 'form-control', disabled: true, value: "**** **** **** #{user.credit_card.try(:last_4)}" %>
                    <div class="checkbox mt-3">
                      <label><input type="checkbox" data-freelancer="<%= freelancer_id %>" id="different-card-checkbox" class="mr-2" value="">Use Different Card</label>
                    </div>
                  </div>
                </div>
                <div class = "new-card-section d-none">
                <%= form.hidden_field  :front_end_token, id: "credit-card-token", class: :'form-control' %>
                <div class="form-row mt-1">
                  <div class="col-md-6 form-group">
                    <label>Card Holder Name</label>
                    <%= form.text_field :name, id: 'credit-card-name', class: 'form-control'  %>
                  </div>
                  <div class="col-md-6 form-group">
                    <label>Credit or Debit Card</label>
                    <div id="card-element-for-freelancer-<%= freelancer_id %>" class="card-element form-control">
                      <!-- A Stripe Element will be inserted here. -->
                    </div>
                    <div id="card-errors" role="alert"></div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="col-md-6 form-group">
                    <label>Address Line 1</label>
                    <%= form.text_field :line1, id: 'credit-card-line1',  class: 'form-control'  %>
                  </div>
                  <div class="col-md-6 form-group">
                    <label>Address Line 2 </label>
                    <%= form.text_field :line2, id: 'credit-card-line2' ,class: 'form-control' %>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-6 form-group">
                    <label>City</label>
                    <%= form.text_field :city, id: 'credit-card-city', class: 'form-control'  %>
                  </div>
                  <div class="col-md-6 form-group">
                    <label>State/Province</label>
                    <%= form.text_field :state, id: 'credit-card-state', class: 'form-control'  %>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-6 form-group">
                    <label>Zip</label>
                    <%= form.text_field :zip, id: 'credit-card-zip', class: 'form-control'  %>
                  </div>
                  <div class="col-md-6 form-group">
                    <label>Country</label>
                    <%= form.select(:country, stripe_countries, {include_blank: 'Select Your Country'}, {prompt: 'Select Country', id: 'credit-card-country', class: "form-control"})%>
                  </div>
                </div>
                </div>
                <hr>

                <div class="card credit-card-error-card d-none  mb-2">
                  <div class="card-header bg-danger text-light">
                    <%= t('form_error_msg') %>
                  </div>
                </div>
                <div class="card credit-card-success-card d-none mb-2">
                  <div class="card-header bg-success text-light"><%= t('saved') %></div>
                </div>
              </div>
              <div class="pull-right">
                <%= form.button class: "btn btn-primary " %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




